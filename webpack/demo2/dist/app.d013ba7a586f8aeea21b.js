!function(t){function n(n){for(var r,a,s=n[0],c=n[1],l=n[2],f=0,h=[];f<s.length;f++)a=s[f],i[a]&&h.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(u&&u(n);h.length;)h.shift()();return o.push.apply(o,l||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],r=!0,s=1;s<e.length;s++){var c=e[s];0!==i[c]&&(r=!1)}r&&(o.splice(n--,1),t=a(a.s=e[0]))}return t}var r={},i={1:0},o=[];function a(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var u=c;o.push([3,0]),e()}([function(t,n,e){t.exports={square:"src-style__square--C9-55",title:"src-style__title--3Y9Ro",game:"src-style__game--HwxIo",next:"src-style__next--3KvZ1",info:"src-style__info--23R0D",btn:"src-style__btn--1iK5k",none:"src-style__none--2PVV_",current:"src-style__current--5KYrD",done:"src-style__done--Ifzym",instructions:"src-style__instructions--1mZVW",ins_item:"src-style__ins_item--1jGWI"}},,function(t,n,e){"use strict";var r=function(){this.data=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],this.origin={x:0,y:0},this.dir=0,this.rotates=[[[0,2,0,0],[0,2,0,0],[0,2,0,0],[0,2,0,0]],[[0,0,0,0],[2,2,2,2],[0,0,0,0],[0,0,0,0]],[[0,2,0,0],[0,2,0,0],[0,2,0,0],[0,2,0,0]],[[0,0,0,0],[2,2,2,2],[0,0,0,0],[0,0,0,0]]]};r.prototype.canDown=function(t){var n={};return n.x=this.origin.x+1,n.y=this.origin.y,t(n,this.data)},r.prototype.down=function(){this.origin.x=this.origin.x+1},r.prototype.canLeft=function(t){var n={};return n.x=this.origin.x,n.y=this.origin.y-1,t(n,this.data)},r.prototype.left=function(){this.origin.y=this.origin.y-1},r.prototype.canRight=function(t){var n={};return n.x=this.origin.x,n.y=this.origin.y+1,t(n,this.data)},r.prototype.right=function(){this.origin.y=this.origin.y+1},r.prototype.canRotate=function(t){for(var n=(this.dir+1)%4,e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<this.data.length;r++)for(var i=0;i<this.data[0].length;i++)e[r][i]=this.rotates[n][r][i];return t(this.origin,e)},r.prototype.rotate=function(t){t||(t=1),this.dir=(this.dir+t)%4;for(var n=0;n<this.data.length;n++)for(var e=0;e<this.data[0].length;e++)this.data[n][e]=this.rotates[this.dir][n][e]};var i=r,o=function(){i.call(this),this.rotates=[[[0,2,0,0],[0,2,0,0],[0,2,0,0],[0,2,0,0]],[[0,0,0,0],[2,2,2,2],[0,0,0,0],[0,0,0,0]],[[0,2,0,0],[0,2,0,0],[0,2,0,0],[0,2,0,0]],[[0,0,0,0],[2,2,2,2],[0,0,0,0],[0,0,0,0]]]};o.prototype=i.prototype;var a=function(){i.call(this),this.rotates=[[[0,2,0,0],[2,2,2,0],[0,0,0,0],[0,0,0,0]],[[2,0,0,0],[2,2,0,0],[2,0,0,0],[0,0,0,0]],[[2,2,2,0],[0,2,0,0],[0,0,0,0],[0,0,0,0]],[[0,2,0,0],[2,2,0,0],[0,2,0,0],[0,0,0,0]]]};a.prototype=i.prototype;var s=function(){i.call(this),this.rotates=[[[2,2,2,0],[0,0,2,0],[0,0,0,0],[0,0,0,0]],[[0,2,0,0],[0,2,0,0],[2,2,0,0],[0,0,0,0]],[[2,0,0,0],[2,2,2,0],[0,0,0,0],[0,0,0,0]],[[2,2,0,0],[2,0,0,0],[2,0,0,0],[0,0,0,0]]]};s.prototype=i.prototype;var c=function(){i.call(this),this.rotates=[[[2,2,2,0],[2,0,0,0],[0,0,0,0],[0,0,0,0]],[[2,2,0,0],[0,2,0,0],[0,2,0,0],[0,0,0,0]],[[0,0,2,0],[2,2,2,0],[0,0,0,0],[0,0,0,0]],[[2,0,0,0],[2,0,0,0],[2,2,0,0],[0,0,0,0]]]};c.prototype=i.prototype;var l=function(){i.call(this),this.rotates=[[[2,2,0,0],[2,2,0,0],[0,0,0,0],[0,0,0,0]],[[2,2,0,0],[2,2,0,0],[0,0,0,0],[0,0,0,0]],[[2,2,0,0],[2,2,0,0],[0,0,0,0],[0,0,0,0]],[[2,2,0,0],[2,2,0,0],[0,0,0,0],[0,0,0,0]]]};l.prototype=i.prototype;var u=function(){i.call(this),this.rotates=[[[0,2,2,0],[2,2,0,0],[0,0,0,0],[0,0,0,0]],[[2,0,0,0],[2,2,0,0],[0,2,0,0],[0,0,0,0]],[[0,2,2,0],[2,2,0,0],[0,0,0,0],[0,0,0,0]],[[2,0,0,0],[2,2,0,0],[0,2,0,0],[0,0,0,0]]]};u.prototype=i.prototype;var f=function(){i.call(this),this.rotates=[[[2,2,0,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]],[[0,2,0,0],[2,2,0,0],[2,0,0,0],[0,0,0,0]],[[2,2,0,0],[0,2,2,0],[0,0,0,0],[0,0,0,0]],[[0,2,0,0],[2,2,0,0],[2,0,0,0],[0,0,0,0]]]};f.prototype=i.prototype;var h=function(){};h.prototype.make=function(t,n){var e;switch(t+=1){case 1:e=new o;break;case 2:e=new a;break;case 3:e=new s;break;case 4:e=new c;break;case 5:e=new l;break;case 6:e=new u;break;case 7:e=new f}return e.origin.x=0,e.origin.y=3,e.rotate(n),e};var d=h,v=e(0),p=e.n(v),g=function(){var t,n,e,r,i,o,a,s=new d,c=0,l=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],u=[],f=[],h=function(t,n,e){for(var r=0;r<n.length;r++){for(var i=[],o=0;o<n[0].length;o++){var a=document.createElement("div");a.className=`${p.a.none}`,a.style.top=20*r+"px",a.style.left=20*o+"px",t.appendChild(a),i.push(a)}e.push(i)}},v=function(t,n){for(var e=0;e<t.length;e++)for(var r=0;r<t[0].length;r++)0==t[e][r]?n[e][r].className=`${p.a.none}`:1==t[e][r]?n[e][r].className=`${p.a.done}`:2==t[e][r]&&(n[e][r].className=`${p.a.current}`)},g=function(t,n,e){return!(t.x+n<0||t.x+n>=l.length||t.y+e<0||t.y+e>=l[0].length||1===l[t.x+n][t.y+e])},y=function(t,n){for(var e=0;e<n.length;e++)for(var r=0;r<n[0].length;r++)if(0!=n[e][r]&&!g(t,e,r))return!1;return!0},m=function(){for(var t=0;t<o.data.length;t++)for(var n=0;n<o.data[0].length;n++)g(o.origin,t,n)&&(l[o.origin.x+t][o.origin.y+n]=0)},_=function(){for(var t=0;t<o.data.length;t++)for(var n=0;n<o.data[0].length;n++)g(o.origin,t,n)&&(l[o.origin.x+t][o.origin.y+n]=o.data[t][n])},b=function(){return!!o.canDown(y)&&(m(),o.down(),_(),v(l,u),!0)};this.init=function(o,c,d){t=o.gameDiv,n=o.nextDiv,e=o.timeDiv,r=o.scoreDiv,i=o.resultDiv,a=s.make(c,d),h(t,l,u),h(n,a.data,f),v(a.data,f)},this.down=b,this.left=function(){o.canLeft(y)&&(m(),o.left(),_(),v(l,u))},this.right=function(){o.canRight(y)&&(m(),o.right(),_(),v(l,u))},this.rotate=function(){o.canRotate(y)&&(m(),o.rotate(),_(),v(l,u))},this.fall=function(){for(;b(););},this.fixed=function(){for(var t=0;t<o.data.length;t++)for(var n=0;n<o.data[0].length;n++)g(o.origin,t,n)&&2==l[o.origin.x+t][o.origin.y+n]&&(l[o.origin.x+t][o.origin.y+n]=1);v(l,u)},this.performNext=function(t,n){o=a,_(),a=s.make(t,n),v(l,u),v(a.data,f)},this.checkClear=function(){for(var t=0,n=l.length-1;n>=0;n--){for(var e=!0,r=0;r<l[0].length;r++)if(1!=l[n][r]){e=!1;break}if(e){t+=1;for(var i=n;i>=0;i--)for(var o=0;o<l[0].length;o++)i>0?l[i][o]=l[i-1][o]:0==i&&(l[0][o]=0);n+=1}}return t},this.checkGameover=function(){for(var t=!1,n=0;n<l[0].length;n++)1==l[0][n]&&(t=!0);return t},this.setTime=function(t){e.innerHTML=t},this.addScore=function(t){var n=0;switch(t){case 1:n=10;break;case 2:n=30;break;case 3:n=60;break;case 4:n=100}c+=n,r.innerHTML=c,this.score=c},this.gameover=function(t){i.innerHTML=t?"你赢了":"你输了"},this.score=c,this.addTailLindes=function(t){for(var n=0;n<l.length-t.length;n++)l[n]=l[n+t.length];for(n=0;n<t.length;n++)l[l.length-t.length+n]=t[n]}},y=function(){return Math.ceil(7*Math.random())-1},m=function(){return Math.ceil(4*Math.random())-1};n.a=function(){var t,n=null,e=0,r=0,i=function(){if(o(),!t.down()){t.fixed();var n=t.checkClear();n&&t.addScore(n),t.checkGameover()?(t.gameover(!1),a()):t.performNext(y(),m())}},o=function(){5==(e+=1)&&(e=0,r+=1,t.setTime(r))},a=function(){n&&(clearInterval(n),n=null),document.onkeydown=null};this.start=function(){var e={gameDiv:document.getElementById("local_game"),nextDiv:document.getElementById("local_next"),timeDiv:document.getElementById("local_time"),scoreDiv:document.getElementById("local_score"),resultDiv:document.getElementById("local_gameover")};(t=new g).init(e,y(),m()),document.onkeydown=function(n){38==n.keyCode?t.rotate():39==n.keyCode?t.right():40==n.keyCode?t.down():37==n.keyCode?t.left():32==n.keyCode&&t.fall()},t.performNext(y(),m()),n=setInterval(i,300)},this.stop=a}},function(t,n,e){"use strict";e.r(n),function(t){var n=e(0),r=e.n(n),i=e(2);!function(){var n=`\n                <div class="${r.a.square}" id="local">\n                    <div class="${r.a.game}" id="local_game"></div>\n                    <div class="${r.a.next}" id="local_next"></div>\n                    <div class="${r.a.info}">\n                        <div>已用时：\n                            <span id="local_time">0</span>s</div>\n                        <div>已得分：\n                            <span id="local_score">0</span>分</div>\n                        <div id="local_gameover"></div>\n                    </div>\n                    <div class='${r.a.btn}'>\n                        <input type='button' id='btnStart' value='开始' ></input>\n                    </div>\n                    <div class='${r.a.instructions}'>\n                        <em>操作说明：</em>\n                        <div class='${r.a.ins_item}'>↑旋转</div>\n                        <div class='${r.a.ins_item}'>←左 ↓下 →右</div>\n                        <div class='${r.a.ins_item}'>空格坠落</div>\n                    </div>\n                </div>\n                `;t(document.body).append(n);var e=new i.a;t("#btnStart").click(function(){e.start(),btnStart.setAttribute("disabled","disabled")})}()}.call(this,e(1))}]);